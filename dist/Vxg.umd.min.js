(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vuetify/lib/components/VMain"),require("vuetify/lib/components/VIcon"),require("vuetify/lib/components/VGrid"),require("vuetify/lib/components/VTextField"),require("vuetify/lib/components/VChip"),require("vuetify/lib/components/VApp"),require("vuetify/lib/components/VBtn"),require("vuetify/lib/components/VNavigationDrawer"),require("vuetify/lib/components/VSheet"),require("vuetify/lib/components/VDataTable"),require("vuetify/lib/components/VSelect"),require("vuetify/lib/components/VAppBar"),require("vuetify/lib/components/VToolbar"),require("vuetify/lib/components/VDivider")):"function"===typeof define&&define.amd?define(["vuetify/lib/components/VMain","vuetify/lib/components/VIcon","vuetify/lib/components/VGrid","vuetify/lib/components/VTextField","vuetify/lib/components/VChip","vuetify/lib/components/VApp","vuetify/lib/components/VBtn","vuetify/lib/components/VNavigationDrawer","vuetify/lib/components/VSheet","vuetify/lib/components/VDataTable","vuetify/lib/components/VSelect","vuetify/lib/components/VAppBar","vuetify/lib/components/VToolbar","vuetify/lib/components/VDivider"],t):"object"===typeof exports?exports["Vxg"]=t(require("vuetify/lib/components/VMain"),require("vuetify/lib/components/VIcon"),require("vuetify/lib/components/VGrid"),require("vuetify/lib/components/VTextField"),require("vuetify/lib/components/VChip"),require("vuetify/lib/components/VApp"),require("vuetify/lib/components/VBtn"),require("vuetify/lib/components/VNavigationDrawer"),require("vuetify/lib/components/VSheet"),require("vuetify/lib/components/VDataTable"),require("vuetify/lib/components/VSelect"),require("vuetify/lib/components/VAppBar"),require("vuetify/lib/components/VToolbar"),require("vuetify/lib/components/VDivider")):e["Vxg"]=t(e["vuetify/lib/components/VMain"],e["vuetify/lib/components/VIcon"],e["vuetify/lib/components/VGrid"],e["vuetify/lib/components/VTextField"],e["vuetify/lib/components/VChip"],e["vuetify/lib/components/VApp"],e["vuetify/lib/components/VBtn"],e["vuetify/lib/components/VNavigationDrawer"],e["vuetify/lib/components/VSheet"],e["vuetify/lib/components/VDataTable"],e["vuetify/lib/components/VSelect"],e["vuetify/lib/components/VAppBar"],e["vuetify/lib/components/VToolbar"],e["vuetify/lib/components/VDivider"])})("undefined"!==typeof self?self:this,(function(e,t,n,i,r,o,a,s,c,u,l,p,f,d){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"062a":function(e,t,n){},"1faa":function(t,n){t.exports=e},"354e":function(e,n){e.exports=t},"5f3c":function(e,t){e.exports=n},"61de":function(e,t,n){"use strict";n("062a")},6544:function(e,t){e.exports=function(e,t){var n="function"===typeof e.exports?e.exports.extendOptions:e.options;for(var i in"function"===typeof e.exports&&(n.components=e.exports.options.components),n.components=n.components||{},t)n.components[i]=n.components[i]||t[i]}},6881:function(e,t){e.exports=i},"6b38":function(e,t){e.exports=r},7013:function(e,t){e.exports=o},"75f0":function(e,t,n){},"863d":function(e,t){e.exports=a},8875:function(e,t,n){var i,r,o;(function(n,a){r=[],i=a,o="function"===typeof i?i.apply(t,r):i,void 0===o||(e.exports=o)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(d){var n,i,r,o=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=o.exec(d.stack)||a.exec(d.stack),c=s&&s[1]||!1,u=s&&s[2]||!1,l=document.location.href.replace(document.location.hash,""),p=document.getElementsByTagName("script");c===l&&(n=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(u-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),r=n.replace(i,"$1").trim());for(var f=0;f<p.length;f++){if("interactive"===p[f].readyState)return p[f];if(p[f].src===c)return p[f];if(c===l&&p[f].innerHTML&&p[f].innerHTML.trim()===r)return p[f]}return null}}return e}))},"8ece":function(e,t){e.exports=s},"8fd1":function(e,t){e.exports=c},9443:function(e,t,n){"use strict";n("75f0")},b1bf:function(e,t){e.exports=u},be21:function(e,t,n){},bfa4:function(e,t){e.exports=l},d7c8:function(e,t){e.exports=p},d88c:function(e,t,n){"use strict";n("be21")},e34a:function(e,t){e.exports=f},f17e:function(e,t,n){},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var i=window.document.currentScript,r=n("8875");i=r(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:r});var o=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("f17e");var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("vxg-basic-head",{attrs:{spec:e.spec.parts.head,logo:e.logo}}),n("vxg-basic-side",{attrs:{spec:e.spec.parts.side,logo:e.logo}}),n("vxg-basic-main",{attrs:{spec:e.spec.parts.main}})],1)},s=[],c={props:["logo"],data:function(){return{spec:this.$model.main.app.web}},mounted:function(){console.log("BasicAdmin",!!this.$vuetify)}},u=c;function l(e,t,n,i,r,o,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):r&&(c=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(e,t){return c.call(t),l(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}var p=n("6544"),f=n.n(p),d=n("7013"),m=l(u,a,s,!1,null,null,null),v=m.exports;f()(m,{VApp:d["VApp"]});var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticStyle:{height:"64px","background-color":"white"},attrs:{app:""}},[n("v-btn",{staticClass:"vxg-head-btn",attrs:{tile:""},on:{click:e.addItem}},[n("v-icon",{attrs:{left:"",medium:""}},[e._v(" mdi-map-marker-path ")]),e._v(" Add Item ")],1),n("v-divider",{staticStyle:{margin:"0px 16px"},attrs:{vertical:""}})],1)},y=[],h={props:["logo"],data:function(){return{}},mounted:function(){console.log("BasicHead",this)},methods:{addItem:function(){this.$store.dispatch("trigger_led_add")}}},g=h,V=(n("9443"),n("d7c8")),x=n("863d"),_=n("ffda"),w=n("354e"),S=l(g,b,y,!1,null,null,null),O=S.exports;f()(S,{VAppBar:V["VAppBar"],VBtn:x["VBtn"],VDivider:_["VDivider"],VIcon:w["VIcon"]});var j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("___")])},$=[],T={data:function(){return{}},created:function(){console.log("BasicFoot",!!this.$vuetify,!!this.$model)}},k=T,q=l(k,j,$,!1,null,null,null),D=q.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-main",{attrs:{app:""}},[n("v-container",{staticStyle:{padding:"0px"},attrs:{xclass:"py-5 px-5",fluid:""}},[n("router-view",{tag:"component",attrs:{spec:e.view_spec}})],1)],1)},B=[],I={props:{spec:{type:Object,required:!0}},data:function(){return{}},computed:{view_spec:function(){var e=this.$route.meta.view,t=this.$model.main.app.web.view[e].spec;return console.log("VIEW SPEC",t),t}}},A=I,E=n("5f3c"),P=n("1faa"),M=l(A,C,B,!1,null,null,null),N=M.exports;f()(M,{VContainer:E["VContainer"],VMain:P["VMain"]});var F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticClass:"vxg-side",attrs:{app:""}},[n("v-sheet",{staticStyle:{display:"flex","flex-direction":"column",height:"100%"}},[n("div",{staticStyle:{display:"inline"},domProps:{innerHTML:e._s(e.logo)}}),e._l(e.menu,(function(t){return[n("router-link",{key:t.code,tag:"component",class:t.klass,staticStyle:{"flex-grow":"1"},attrs:{to:"/main/"+t.code}},[n("v-icon",[e._v("mdi-"+e._s(t.icon))]),e._v(" "+e._s(t.title)+" ")],1)]})),n("div",{staticStyle:{"flex-grow":"100"}}),n("v-divider"),n("a",{staticClass:"vxg-router-link",attrs:{href:"#/main/asset"}},[n("i",{staticClass:"v-icon notranslate mdi mdi-help theme--light",attrs:{"aria-hidden":"true"}}),e._v(" Support ")]),n("a",{staticClass:"vxg-router-link",attrs:{href:"#/main/asset"}},[n("i",{staticClass:"v-icon notranslate mdi mdi-logout-variant theme--light",attrs:{"aria-hidden":"true"}}),e._v(" Sign out ")])],2)],1)},H=[],R={props:{spec:{type:Object,required:!0},logo:String},data:function(){return{}},created:function(){console.log("BasicSide created",this.spec)},computed:{menu:function(){this.$route.meta.view;var e=this.spec.menu.items,t=this.spec.menu.order.split(/\s*,\s*/),n=t.reduce((function(t,n){return t.push(Object.assign({code:n},e[n])),t}),[]).map((function(e){return e.klass=Object.assign({"vxg-router-link":!0}),e}));return n}}},L=R,z=(n("d88c"),n("8ece")),G=n("8fd1"),U=l(L,F,H,!1,null,null,null),X=U.exports;f()(U,{VDivider:_["VDivider"],VIcon:w["VIcon"],VNavigationDrawer:z["VNavigationDrawer"],VSheet:G["VSheet"]});var W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.show.table?n("v-data-table",{attrs:{headers:e.headers,items:e.items,"items-per-page":25,dense:"","footer-props":{itemsPerPageOptions:[25,50,75,100,-1]}},on:{"click:row":e.openItem},scopedSlots:e._u([e._l(e.headers,(function(t){return{key:e.itemslot(t),fn:function(i){var r=i.item;return[n("div",{key:t.value},["status"===t.type?n("span",[n("v-chip",{staticStyle:{"font-weight":"bold",color:"white"},attrs:{small:"",xclass:"ma-2",color:"outofdate"===r[t.value]?"red":"suspended"===r[t.value]?"orange":"blue"}},[e._v(" "+e._s(t.kind[r[t.value]].title)+" ")])],1):"datetime"===t.type?n("span",[e._v(" "+e._s(new Date(r[t.value]))+" ")]):n("span",[e._v(e._s(r[t.value]))])])]}}}))],null,!0)}):e._e(),e.show.item?n("div",[n("div",{staticStyle:{"box-sizing":"border-box",display:"flex","flex-flow":"row wrap"}},e._l(e.fields,(function(t,i){return n("div",{key:i,staticClass:"vxg-form-field",style:e.fieldstyle(t,i)},["string"===t.type?n("v-text-field",{attrs:{label:t.title,outlined:""},model:{value:e.item[t.name],callback:function(n){e.$set(e.item,t.name,n)},expression:"item[field.name]"}}):e._e(),"status"===t.type?n("v-select",{attrs:{items:e.selection(t),label:t.title,outlined:""},model:{value:e.item[t.name],callback:function(n){e.$set(e.item,t.name,n)},expression:"item[field.name]"}}):e._e(),"datetime"===t.type?n("v-text-field",{attrs:{label:t.title,outlined:"",disabled:""},model:{value:e.readitem[t.name],callback:function(n){e.$set(e.readitem,t.name,n)},expression:"readitem[field.name]"}}):e._e()],1)})),0),n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{attrs:{outlined:""},on:{click:e.closeItem}},[e._v("Cancel")]),n("v-spacer"),n("v-btn",{attrs:{outlined:""},on:{click:e.saveItem}},[e._v("Save")])],1)],1):e._e()],1)},J=[];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ne(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ee(e,t){return oe(e)||re(e,t)||ne(e,t)||te()}function te(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ne(e,t){if(e){if("string"===typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function re(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done);a=!0)if(o.push(i.value),t&&o.length===t)break}catch(c){s=!0,r=c}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw r}}return o}}function oe(e){if(Array.isArray(e))return e}var ae={props:{spec:{type:Object,required:!0}},data:function(){return{item:null,readitem:null,show:{table:!0,item:!1}}},created:function(){this.$store.dispatch("list_"+this.spec.ent.store_name)},watch:{"$store.state.trigger.led.add":function(){this.openItem({last:Date.now()})}},computed:{headers:function(){return Object.entries(this.spec.ent.primary.field).map((function(e){var t=ee(e,2),n=t[0],i=t[1];return{value:n,text:i.title,type:i.type,kind:i.kind||{}}}))},items:function(){return this.$store.state[this.spec.ent.store_name]},fields:function(){try{var e,t=[],n=this.spec.edit.layout.order.split(/,/),i=Z(n);try{for(i.s();!(e=i.n()).done;){var r=e.value,o=Q({},this.spec.ent.primary.field[r]);o.name=r,o.size=this.spec.edit.layout.field[r].size,t.push(o)}}catch(a){i.e(a)}finally{i.f()}return t}catch(s){console.log(s)}return[]}},methods:{itemslot:function(e){return"item."+e.value},selection:function(e){var t=Object.entries(e.kind).map((function(e){var t=ee(e,2),n=t[0],i=t[1];return{text:i.title,value:n}}));return console.log("selects",e,t),t},openItem:function(e){console.log("OPEN",e),!1!==this.spec.edit.active&&(this.item=e,this.readitem=Q({},this.item),this.readitem.last=this.formatdate(this.item.last),this.show.table=!1,this.show.item=!0)},saveItem:function(){this.$store.dispatch("save_"+this.spec.ent.store_name,this.item),this.show.table=!0,this.show.item=!1},closeItem:function(){this.show.table=!0,this.show.item=!1},fieldstyle:function(e){return{"flex-basis":100*e.size/12+"%"}},formatdate:function(e){return new Date(e).toString()}}},se=ae,ce=(n("61de"),n("6b38")),ue=n("b1bf"),le=n("bfa4"),pe=n("6881"),fe=n("e34a"),de=l(se,W,J,!1,null,null,null),me=de.exports;function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ye(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e}f()(de,{VBtn:x["VBtn"],VChip:ce["VChip"],VDataTable:ue["VDataTable"],VSelect:le["VSelect"],VSpacer:E["VSpacer"],VTextField:pe["VTextField"],VToolbar:fe["VToolbar"]});var he={},ge=function(){function e(t){ve(this,e),this.cmp={},this.config(t)}return ye(e,[{key:"config",value:function(e){Object.assign(this.config,he,e||{})}},{key:"install",value:function(e,t){var n=this,i={VxgBasicAdmin:v,VxgBasicHead:O,VxgBasicFoot:D,VxgBasicMain:N,VxgBasicSide:X,VxgBasicLed:me};Object.keys(i).forEach((function(t){e.component(t,i[t]),n.cmp[t]=i[t]})),e.prototype.$vxg=this,window.vxg=this}}]),e}(),Ve=ge;t["default"]=Ve},ffda:function(e,t){e.exports=d}})}));
//# sourceMappingURL=Vxg.umd.min.js.map